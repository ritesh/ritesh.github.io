<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Prevent accidental rm | Ritesh&#39;s Ramblings</title>
<meta name="keywords" content="">
<meta name="description" content="Pro-tip to prevent accidently hosing your home directory. If you&rsquo;re too smart for your own good, this may not be sufficient.">
<meta name="author" content="admin">
<link rel="canonical" href="https://blog.rsinha.org/2012/05/05/prevent-accidental-rm/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css" integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://blog.rsinha.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.rsinha.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.rsinha.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.rsinha.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.rsinha.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Prevent accidental rm" />
<meta property="og:description" content="Pro-tip to prevent accidently hosing your home directory. If you&rsquo;re too smart for your own good, this may not be sufficient." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.rsinha.org/2012/05/05/prevent-accidental-rm/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-05-05T15:53:46&#43;00:00" />
<meta property="article:modified_time" content="2012-05-05T15:53:46&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Prevent accidental rm"/>
<meta name="twitter:description" content="Pro-tip to prevent accidently hosing your home directory. If you&rsquo;re too smart for your own good, this may not be sufficient."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://blog.rsinha.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Prevent accidental rm",
      "item": "https://blog.rsinha.org/2012/05/05/prevent-accidental-rm/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Prevent accidental rm",
  "name": "Prevent accidental rm",
  "description": "Pro-tip to prevent accidently hosing your home directory. If you\u0026rsquo;re too smart for your own good, this may not be sufficient.",
  "keywords": [
    
  ],
  "articleBody": "If you’re anything like me, you might casually type rm -rf * in your home directory when you really meant to delete the contents of another directory. You should, of course, always have a backup of the contents of your home directory just in case this happens.\nThere is simple hack to force rm to prompt you to think about the files that are going to be deleted. Create a file called ‘-i’ in the directory whose contents you want to protect from accidental deletion.\nAn easy way to do this is to run touch ./-i which gives you:\nritesh@viridian:/var/tmp/aa$ ls -a -i . .. 100.txt 200.txt l.txt seq.txt If you now try and run rm -rf * now, this is what happens instead of everything getting nuked all at once.\nritesh@viridian:/var/tmp/aa$ rm -rf * remove 100.txt? I’ve tried this on bash, I’m not sure if this works with other shells (zsh, ksh). Sure, you could always remember to use rm -rfi but who can remember that whole extra letter?\n",
  "wordCount" : "170",
  "inLanguage": "en",
  "datePublished": "2012-05-05T15:53:46Z",
  "dateModified": "2012-05-05T15:53:46Z",
  "author":{
    "@type": "Person",
    "name": "admin"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.rsinha.org/2012/05/05/prevent-accidental-rm/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ritesh's Ramblings",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.rsinha.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.rsinha.org/" accesskey="h" title="Ritesh&#39;s Ramblings (Alt + H)">Ritesh&#39;s Ramblings</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.rsinha.org/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://blog.rsinha.org/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Prevent accidental rm
    </h1>
    <div class="post-meta"><span title='2012-05-05 15:53:46 +0000 UTC'>May 5, 2012</span>&nbsp;·&nbsp;admin

</div>
  </header> 
  <div class="post-content"><p>If you&rsquo;re anything like me, you might casually type <code>rm -rf *</code> in your home directory when you really meant to delete the contents of another directory. You should, of course, always have a backup of the contents of your home directory just in case this happens.</p>
<p>There is simple hack to force <code>rm</code> to prompt you to think about the files that are going to be deleted. Create a file called &lsquo;-i&rsquo; in the directory whose contents you want to protect from accidental deletion.</p>
<p>An easy way to do this is to run <code>touch ./-i </code> which gives you:</p>
<pre><code>ritesh@viridian:/var/tmp/aa$ ls -a
-i      .       ..      100.txt 200.txt l.txt   seq.txt
</code></pre>
<p>If you now try and run rm -rf * now, this is what happens instead of everything getting nuked all at once.</p>
<pre><code>ritesh@viridian:/var/tmp/aa$ rm -rf *
remove 100.txt? 
</code></pre>
<p>I&rsquo;ve tried this on bash, I&rsquo;m not sure if this works with other shells (zsh, ksh). Sure, you could always remember to use <code>rm -rfi</code> but who can remember that whole extra letter?</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://blog.rsinha.org/">Ritesh&#39;s Ramblings</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
