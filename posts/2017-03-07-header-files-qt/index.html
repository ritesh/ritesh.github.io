<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.79.0" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="" />
  <meta property="og:url" content="https://blog.rsinha.org/posts/2017-03-07-header-files-qt/" />
  <link rel="canonical" href="https://blog.rsinha.org/posts/2017-03-07-header-files-qt/" /><link rel="alternate" type="application/atom+xml" href="https://blog.rsinha.org/index.xml" title="Ritesh Sinha&#39;s blog">

  <script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "https:\/\/blog.rsinha.org\/"
      },
      "articleSection" : "posts",
      "name" : "Header files voodoo",
      "headline" : "Header files voodoo",
      "description" : "Trying to build a Qt project on Linux today. Turns out, (some) Qt programmers are case insensitive when it comes to including heAdEr fiLEs in C\u002b\u002b source. This is fine on Windows and macOS, but on an OS with a case sensitive filesystem like ext4, this causes a whole lot of problems. gcc and g\u002b\u002b try and fail to find coolHeader.h if it\u0026rsquo;s called CoolHeader.h. I\u0026rsquo;m sure that this isn\u0026rsquo;t an uncommon problem, but I couldn\u0026rsquo;t find a solution that didn\u0026rsquo;t involve serious sed-fu.",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2017",
      "datePublished": "2017-03-07 22:38:48 \u002b0000 UTC",
      "dateModified" : "2017-03-07 22:38:48 \u002b0000 UTC",
      "url" : "https:\/\/blog.rsinha.org\/posts\/2017-03-07-header-files-qt\/",
      "keywords" : [  ]
  }
</script>
<title>Header files voodoo - Ritesh Sinha&#39;s blog</title>
  <meta property="og:title" content="Header files voodoo - Ritesh Sinha&#39;s blog" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Trying to build a Qt project on Linux today. Turns out, (some) Qt programmers are case insensitive when it comes to including heAdEr fiLEs in C&#43;&#43; source. This is fine on Windows and macOS, but on an OS with a case sensitive filesystem like ext4, this causes a whole lot of problems. gcc and g&#43;&#43; try and fail to find coolHeader.h if it&rsquo;s called CoolHeader.h. I&rsquo;m sure that this isn&rsquo;t an uncommon problem, but I couldn&rsquo;t find a solution that didn&rsquo;t involve serious sed-fu." />
  <meta name="description" content="Trying to build a Qt project on Linux today. Turns out, (some) Qt programmers are case insensitive when it comes to including heAdEr fiLEs in C&#43;&#43; source. This is fine on Windows and macOS, but on an OS with a case sensitive filesystem like ext4, this causes a whole lot of problems. gcc and g&#43;&#43; try and fail to find coolHeader.h if it&rsquo;s called CoolHeader.h. I&rsquo;m sure that this isn&rsquo;t an uncommon problem, but I couldn&rsquo;t find a solution that didn&rsquo;t involve serious sed-fu." />
  <meta property="og:locale" content="en-gb" />

  <link rel="stylesheet" href="/css/flexboxgrid-6.3.1.min.css" />
  <link rel="stylesheet" href="/css/github-markdown.css" />
  <link rel="stylesheet" href="/css/highlight/tomorrow.min.css" />
  <link rel="stylesheet" href="/css/index.css">
  <link href="/index.xml" rel="alternate" type="application/rss+xml"
    title="Ritesh Sinha&#39;s blog">
  
 <link href="https://fonts.googleapis.com/css2?family=Muli&family=Rock+Salt&display=swap" rel="stylesheet"> 
  
  

  
</head>


<body>
  <article class="post " id="article">
    <div class="row">
      <div class="col-xs-12">
        <div class="site-header">
          
<header>
  <div class="signatures site-title">
    <a href="/">Ritesh Sinha</a>
  </div>
</header>
<div class="row end-xs">
  
  
</div>
<div class="header-line"></div>

        </div>
        <header class="post-header">
          <h1 class="post-title">Header files voodoo</h1>
          
          <div class="row post-desc">
            <div class="col-xs-6">
              
              <time class="post-date" datetime="2017-03-07 22:38:48 UTC">
                07 Mar 2017
              </time>
              
            </div>
            <div class="col-xs-6">
              
            </div>
          </div>
          
        </header>

        <div class="post-content markdown-body">
          
          <p>Trying to build a Qt project on Linux today. Turns out, (some) Qt programmers are case insensitive when it comes to including heAdEr fiLEs in C++ source. This is fine on Windows and macOS, but on an OS with a case sensitive filesystem like <code>ext4</code>, this causes a whole lot of problems. <code>gcc</code> and <code>g++</code> try and fail to find <code>coolHeader.h</code> if it&rsquo;s called <code>CoolHeader.h</code>. I&rsquo;m sure that this isn&rsquo;t an uncommon problem, but I couldn&rsquo;t find a solution that didn&rsquo;t involve serious <code>sed</code>-fu.</p>
<p>There&rsquo;s an easier hack, if you&rsquo;re not ready to use lowercase header filenames in your C++ code like Bjarne Stroustrup probably intended. Create an empty file large enough to contain both your source and build artifacts, format it as a FAT32 volume and mount it as a loop device. Use this loop device to build your code.</p>
<pre><code>dd if=/dev/zero of=/fakedisk bs=1024 count=200000 
losetup /dev/loop0 /fakedisk 
mkfs.vfat /dev/loop0 # Make it a VFAT filesystem
mkdir /mnt/faker
mount -t vfat /dev/loop0 /mnt/faker
cp -Rv ~/your/QtCode /mnt/faker/
cd /mnt/faker/QtCode/ &amp;&amp; qmake -makefile
make # Job done, off to the pub 
</code></pre><p>But hey, if <code>sed</code> works to refactor your codebase, more power to you!</p>

        </div>

        <div class="row middle-xs">
          <div class="col-xs-12">
            
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12">
            
          </div>
        </div>

        
        

        
        
        <div style="height: 50px;"></div>
        
        

        <div class="site-footer">
  
  <div class="site-footer-item">
    <a href="https://twitter.com/rsinha" target="_blank">Twitter</a>
  </div>
  
  <div class="site-footer-item">
    <a href="https://github.com/ritesh" target="_blank">Github</a>
  </div>
  
  <div class="site-footer-item">
    <a href="/about/" target="_blank">About Me</a>
  </div>
  
  
</div>

      </div>
    </div>
  </article>

  <script src="/js/highlight.pack.js"></script>


<script>
  hljs.initHighlightingOnLoad();
  
  
  
    
    
  
</script>

  

</body>

</html>